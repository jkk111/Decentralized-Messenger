<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-icons/communication-icons.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout.html">
<dom-module id="contact-element">
  <style>
    :host {
      width: 100%;
    }
    img {
      border-radius: 50%;
      height: 72px;
    }
    #name {
      padding-left: 6px;
    }
  </style>
  <template>
    <div class="horizontal layout center">
      <div class="flex">
        <img src$={{_img}}>
      </div>
      <div id="name" class="flex-6">
        {{name}}
      </div>
      <div class="flex">
        <template float="right" is="dom-if" if="{{online}}">
          <iron-icon style="fill:#4CAF50" icon="communication:chat-bubble"></iron-icon>
        </template>
        <template is="dom-if" if="{{!online}}">
          <iron-icon style="fill:#9E9E9E" icon="communication:chat-bubble-outline"></iron-icon>
        </template>
      </div>
    </div>
  </template>
  <script>
    Polymer({
      is: 'contact-element',
      properties: {
        name: {
          type: String,
          value: "",
          observer: ''
        },
        online: {
          type: Boolean,
          value: false
        },
        img: {
          type: String,
          value: ""
        },
        _img: {
          type: String,
          value: "defaultChatIcon.png",
          computed: 'getImage(img)'
        }
      },
      getImage: function(img) {
        console.log("running")
        if(!img || img == "") {
          return "defaultChatIcon.png";
        }
        else return img;
      }
    });
  </script>
</dom-module>
